<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 報告優化系統</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app-container">
        <aside id="sidebar">
            <header class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">📝</span>
                    <h1>AI Report Refiner</h1>
                </div>
                <div id="connection-status" class="status-indicator disconnected">
                    <span class="dot"></span>
                    <span class="text">未連接</span>
                </div>
            </header>
            <div class="report-list-container">
                <h2>選擇要優化的報告</h2>
                <div id="report-list-loader" class="loader"></div>
                <ul id="report-list"></ul>
            </div>
        </aside>

        <main id="main-content">
            <div id="welcome-screen">
                <div class="welcome-content">
                    <span class="welcome-icon">👋</span>
                    <h2>歡迎使用 AI 報告優化系統</h2>
                    <p>請從左側列表中選擇一份報告開始優化。</p>
                </div>
            </div>

            <div id="report-view" class="hidden">
                <header class="report-header">
                    <h2 id="report-title"></h2>
                    <div class="actions">
                        <button id="save-report-btn" class="btn btn-primary">
                            <span class="icon">💾</span> 保存報告
                        </button>
                        <div id="save-status-message" class="save-status"></div>
                    </div>
                </header>
                <div id="report-display-container">
                    <div id="report-display" contenteditable="false"></div>
                </div>
            </div>
        </main>

        <aside id="refine-panel" class="hidden">
            <header class="refine-header">
                <h3>✨ AI Refiner Panel</h3>
            </header>
            <div id="selection-info">
                <h4>已選取文字</h4>
                <div id="selected-text-preview" class="text-preview">
                    <p class="placeholder">請在報告中用滑鼠選取文字</p>
                </div>
            </div>
            <div id="chat-container">
                <div id="chat-history"></div>
                <div id="chat-input-area">
                    <textarea id="refine-instruction" placeholder="輸入您的修改指令..." disabled></textarea>
                    <button id="send-instruction-btn" class="btn" disabled>
                        <span class="icon">➤</span>
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <script src="script.js"></script>
</body>
</html>